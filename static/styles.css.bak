/* ========= ACCENT COLOURS ========= */
body[data-accent="football"]{ --accent:#16a34a; --accent-2:#22c55e; }   /* emeralds */
body[data-accent="gaming"]  { --accent:#00e5a8; --accent-2:#00b4ff; }   /* teal/cyan */
body[data-accent="extras"]  { --accent:#ff7ae6; --accent-2:#a78bfa; }   /* pink/violet */

/* ========= THEME ========= */
:root{
  --bg: #0b1020;
  --surface: #0f172a;
  --card: rgba(17,24,39,0.55);
  --text: #e6edf6;
  --muted: #9aa8bd;
  --line: #27324a;
  --shadow: 0 14px 40px rgba(0,0,0,.42);
}

/* ========= BACKGROUND (image + glowing gradients) ========= */
html,body{ height:100%; }
body{
  margin:0; color:var(--text);
  background:
    radial-gradient(1200px 800px at -10% -10%, #101a37 0%, transparent 55%),
    radial-gradient(900px 700px at 110% 15%, #0e1733 0%, transparent 55%),
    var(--bg);
  font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, sans-serif;
}

/* Optional local wallpaper: put a file at /static/bg.jpg */
body::before{
  content:""; position:fixed; inset:0; z-index:-2;
  background-image: url('/static/bg.jpg');
  background-position:center; background-size:cover; background-repeat:no-repeat;
  filter: saturate(1.05) contrast(1.04) brightness(.6) blur(2px);
  opacity:.35;
}
body::after{
  /* animated accent glow */
  content:""; position:fixed; inset:-20%; z-index:-1; pointer-events:none;
  background:
    radial-gradient(500px 350px at 15% 20%, var(--accent) 0%, transparent 55%),
    radial-gradient(520px 380px at 90% 10%, var(--accent-2) 0%, transparent 55%),
    radial-gradient(420px 360px at 60% 80%, color-mix(in oklab, var(--accent) 60%, #ffffff) 0%, transparent 60%);
  filter: blur(70px); opacity:.28; animation: drift 18s ease-in-out infinite alternate;
}
@keyframes drift{ 0%{ transform: translateY(-20px);} 100%{ transform: translateY(20px);} }

/* ========= HEADER / NAV ========= */
header{
  position: sticky; top:0; z-index:10;
  display:flex; align-items:center; justify-content:space-between;
  padding:14px 18px; background: linear-gradient(180deg, rgba(12,18,36,.92), rgba(12,18,36,.62));
  border-bottom:1px solid var(--line); backdrop-filter: blur(6px);
}
.brand{ display:flex; align-items:baseline; gap:10px; }
h1{ margin:0; font-size:20px; letter-spacing:.2px; }
.subtitle{ font-size:12px; color:var(--muted); }
nav{ display:flex; gap:10px; }
.tab{
  padding:8px 12px; border:1px solid var(--line);
  background: color-mix(in oklab, var(--surface) 85%, transparent);
  color:var(--text); border-radius:999px; cursor:pointer;
  transition:.2s transform, .2s box-shadow, .2s border-color, .2s background;
}
.tab:hover{ transform:translateY(-1px); box-shadow: var(--shadow); }
.tab.active{
  border-color: color-mix(in oklab, var(--accent) 70%, var(--line));
  background:
    linear-gradient(180deg, color-mix(in oklab, var(--accent) 25%, transparent), transparent),
    color-mix(in oklab, var(--surface) 85%, transparent);
}

.chip{
  padding:6px 10px; border-radius:999px; font-size:12px;
  border:1px solid var(--line); background: color-mix(in oklab, var(--surface) 75%, transparent);
  color:var(--muted);
}
.chip.muted{ color:var(--muted); }

/* ========= LAYOUT (WIDE) ========= */
main{ max-width:1400px; margin:20px auto; padding:0 20px; }

/* HIDE INACTIVE PANELS — this was the culprit */
.panel{ display:none; animation: fade .25s ease; }
.panel.active{ display:block; }
@keyframes fade{ from{opacity:0; transform:translateY(6px);} to{opacity:1; transform:none;} }

/* ========= CARDS ========= */
.card{
  background: var(--card);
  border:1px solid var(--line);
  border-radius:18px;
  padding:16px;
  margin:18px 0;
  box-shadow: var(--shadow);
  position:relative;
}
.card::before{
  content:""; position:absolute; left:12px; right:12px; top:0;
  height:2px; border-radius:2px;
  background: linear-gradient(90deg, transparent, var(--accent), var(--accent-2), transparent);
  opacity:.7;
}
.card-head{
  display:flex; align-items:center; justify-content:space-between; gap:10px; margin-bottom:8px;
}
h2{ margin:8px 0 6px 0; font-size:24px; }
h3{ margin:0 0 10px 0; font-size:16px; }

/* ========= TABLES ========= */
.table-wrap{ width:100%; overflow:auto; border-radius:12px; }
.table{ width:100%; border-collapse:collapse; min-width:600px; }
.table thead th{
  background: linear-gradient(180deg, color-mix(in oklab, var(--surface) 70%, transparent), transparent);
  position:sticky; top:0; z-index:1; border-bottom:1px solid var(--line);
}
.table th, .table td{ padding:12px 14px; border-bottom:1px solid var(--line); text-align:left; }
.table tr:nth-child(even) td{ background: color-mix(in oklab, var(--surface) 45%, transparent); }
.table tr:hover td{ background: color-mix(in oklab, var(--surface) 65%, transparent); }

/* compact for PL table */
#pl-table.table td, #pl-table.table th{ padding:10px 12px; }
.teamcell{ display:flex; align-items:center; gap:10px; }
.crest{ width:22px; height:22px; object-fit:contain; border-radius:4px; }

/* Steam links — neutral base, accent hover */
#steam-deals a{ color:var(--text); text-decoration:none; border-bottom:1px dashed var(--muted); }
#steam-deals a:hover{ color:var(--accent); border-bottom-color: var(--accent); }

/* ========= SKELETON ========= */
.skel{ position:relative; overflow:hidden; background: color-mix(in oklab, var(--surface) 70%, transparent); color:transparent; }
.skel::after{
  content:""; position:absolute; inset:0; transform: translateX(-100%);
  background: linear-gradient(90deg, transparent, rgba(255,255,255,.08), transparent);
  animation: shimmer 1.1s infinite;
}
@keyframes shimmer{ 100%{ transform: translateX(100%); } }
